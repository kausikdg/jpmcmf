<div class="heading">
    <h1>New Screen</h1>
</div>

<div class="content">
    <form class="form">
        <label class="form-control row">
            <span class="col-xs-2">
                <span class="label">Screen Name:</span>
            </span>
            <span class="col-xs-6">
                <input ng-form name="screenName" type="text" ng-model="model.name">
            </span>
        </label>
    </form>
</div>

<div class="content secondary-content">
    <div class="row no-margin">
        <div class="left-pane col-xs-3">
            <!-- template groups tree -->
            <div class="templates-tree">
                <div class="heading">Universal Screen Templates</div>
                <ul class="tree" tree-root options="treeOptions">
                    <li ng-repeat="group in groups.templates" tree-node="group" collapsible></li>
                </ul>
            </div>
            <div class="apptemplates-tree">
                <div class="heading">App Templates</div>
                <ul class="tree" tree-root options="treeOptions">
                    <li ng-repeat="group in groups.apptemplates" tree-node="group" collapsible></li>
                </ul>
            </div>
            <div class="apps-tree">
                <div class="heading">Applications</div>
                <ul class="tree" tree-root options="treeOptions">
                    <li ng-repeat="group in groups.apps" tree-node="group" collapsible></li>
                </ul>
            </div>
        </div>
        <div class="middle-pane" ng-class="model.selectedScreen.name ? 'col-xs-5' : 'col-xs-9'">
            <div class="heading">
                <span>{{model.selectedFolder.name}}</span>
                <label class="search pull-right">
                    <span class="fa fa-search"></span>
                    <input type="text" placeholder="Search" ng-model="search.text" class="ng-pristine ng-valid ng-touched">
                    <a ng-if="search.text && search.text !== ''" ng-click="search.text='';"> <i class="fa fa-times"></i> </a>
                </label>
            </div>
            <div class="screens-list">
                <div class="cards cards-templates">
                    <a class="card layouts-list" ng-class="{'focused': model.selectedScreen.id == screen.id}" ng-repeat="screen in model.selectedFolder.screens | filter:{ name: search.text }" ng-click="selectScreen(screen)">
                        <span class="title" ng-bind-html="screen.name"></span>
                        <div class="template-preview margin-centered" style="background-image:url('{{screen.previewImageURL}}')">
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="right-pane content col-xs-4" ng-class="{hidden: !model.selectedScreen.name}">
            <div class="heading">
                {{model.selectedScreen.name}}
            </div>
            <div class="screen-preview">
                <div class="preview phone-portrait">
                    <div class="scale-block">
                        <iframe src="{{model.selectedScreen.previewUrl}}"></iframe>
                    </div>
                </div>
                <div class="text">
                    {{model.selectedScreen.description}}
                </div>

            </div>
        </div>
    </div>
</div>

<div class="buttons">
    <button class="button" ng-click="save()" ng-disabled="submitted || !isValid()">Save
    </button>
    <button class="button clear" ng-click="closeThisDialog()">Cancel
    </button>
</div>
