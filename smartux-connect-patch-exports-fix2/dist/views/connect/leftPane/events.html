<div class="header target">
    <span ng-if="!showSearch">Events</span>
    <span class="search-bar" ng-if="showSearch">
        <input type="text" placeholder="Search Components" ng-model="search.name" auto-focus>
    </span>
    <button class="fa fa-search" ng-click="toggleSearch()" title="Search Event Components"></button>
</div>
<div class="connect content">
    <div ng-repeat="eventSource in eventSources">
            <details open ng-if="eventSource.type === 'client'">
                <summary class="connectHeader bg-grey">
                        {{toTitleCase(eventSource.type)}}: <span class="text-black">{{toTitleCase(eventSource.name)}}</span>
                </summary>
                <div class="event-block-group">
                    <div ng-repeat="eventGroup in eventSource.eventGroups">
                        <details ng-open="eventGroup.name.toLowerCase() == endpoint.name.toLowerCase()">
                            <summary class="connectHeader">
                                <i class="fa fa-file-text-o"></i><span class="text-black">{{toTitleCase(eventGroup.name)}}</span>
                            </summary>
                            <event ng-repeat="eventName in eventGroup.events" eventname="eventName" dragid="makeDragId(eventSource,eventGroup,eventName)">
                            </event>
                        </details>
                    </div>
                </div>
            </details>

            <details open ng-if="eventSource.type === 'web'">
                <summary class="connectHeader bg-grey">
                    {{toTitleCase(eventSource.type)}}: <span class="text-black">{{toTitleCase(eventSource.name)}}</span>
                </summary>
                <div class="event-block-group">
                    <div ng-repeat="eventGroup in eventSource.eventGroups">
                        <event ng-repeat="eventName in eventGroup.events" eventname="eventName" dragid="makeDragId(eventSource,eventGroup,eventName)" iswebevent="true">
                        </event>
                    </div>
                </div>
            </details>
    </div>
</div>

